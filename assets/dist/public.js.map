{"version":3,"sources":["webpack:///webpack/bootstrap b25f55ccefb0f44ed3cd","webpack:///./js/public.js","webpack:///./css/public.css"],"names":["$","each","$el","id","data","form","eval","Vue","el","activeItem","methods","isEmailValid","email","regex","test","isItemValid","item","value","length","type","isFormValid","i","items","fieldKeyUp","itemIndex","event","keyCode","fieldBlur","touchItem","input","document","querySelector","focus","save","jQuery","ajax","url","action","window","location","href","success","classList","add","error","cancel","stripSlashes","replace","mounted","template"],"mappings":"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","file":"public.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"../dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b25f55ccefb0f44ed3cd","import '../css/public.css';\n\n(function ($) {\n  $('.boffo').each(function () {\n    var $el = $(this);\n    var id = $el.data('boffo_id');\n    var form = eval('boffoFlow_' + id);\n  \n    new Vue({\n      el: '#boffo-' + id,\n      data: {\n        form: form,\n        activeItem: 0\n      },\n      methods: {\n          isEmailValid(email) {\n              var regex = /^([a-zA-Z0-9_.+-])+\\@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\n  \n              return regex.test(email);\n          },\n          isItemValid(item) {\n              if(item.value.length < 1) return false;\n              if(item.type == 'email') return this.isEmailValid(item.value);\n  \n              return true;\n          },\n          isFormValid() {\n              for(var i = 0; i < this.form.items.length; i++) {\n                  if(!this.isItemValid(this.form.items[i])) return false;\n              }\n  \n              return true;\n          },\n          fieldKeyUp(item, itemIndex, event) {\n              if(event.keyCode == 13 && this.isItemValid(item)) this.activeItem = itemIndex + 1;\n          },\n          fieldBlur(item, itemIndex) {\n              if(this.isItemValid(item)) this.activeItem = itemIndex + 1;\n          },\n          touchItem(itemIndex) {\n              this.activeItem = itemIndex;\n  \n              if(this.form.items[itemIndex].type == 'select') {\n                  var input = document.querySelector('.boffo-item:nth-child(' + (itemIndex + 1) + ') select');\n                  input.focus();\n              }\n              else {\n                  var input = document.querySelector('.boffo-item:nth-child(' + (itemIndex + 1) + ') input');\n                  input.focus();\n              }\n          },\n          save() {\n              jQuery.ajax({\n                  type: 'POST',\n                  url: ajax.url,\n                  data: {\n                      action: \"post_boffo_message\",\n                      items: this.form.items,\n                      id: id,\n                      url: window.location.href\n                  },\n                  success: function (data) {\n                      document.querySelector('.boffo-form').classList.add('fade-out');\n                      document.querySelector('.boffo-done').classList.add('fade-in');\n                  },\n                  error: function () {\n                    \n                  }\n              });\n          },\n          cancel() {\n              this.activeItem = 0;\n          },\n          stripSlashes(value) {\n            return value.replace(/\\\\(.)/mg, \"$1\");\n          }\n      },\n      mounted: function () {\n      },\n      template: `\n        <div class=\"boffo-flow\">\n          <div class=\"boffo-form\">\n            <div v-for=\"(item, index) in form.items\" class=\"boffo-item\" v-bind:class=\"{ active: activeItem == index, completed: activeItem > index, queued: activeItem + 1 == index, invalid: !isItemValid(form.items[index]) }\">\n              <div v-if=\"item.type == 'text'\">\n                <span v-on:click=\"touchItem(index)\">{{ stripSlashes(item.text) }}</span>\n                <input type=\"text\" placeholder=\"\" v-model=\"form.items[index].value\" v-on:keyup=\"fieldKeyUp(form.items[index], index, $event)\" v-on:blur=\"fieldBlur(form.items[index], index)\">\n              </div>\n              <div v-else-if=\"item.type == 'email'\">\n                <span v-on:click=\"touchItem(index)\">{{ stripSlashes(item.text) }}</span>\n                <input type=\"email\" placeholder=\"\" v-model=\"form.items[index].value\" v-on:keyup=\"fieldKeyUp(form.items[index], index, $event)\" v-on:blur=\"fieldBlur(form.items[index], index)\">\n              </div>\n              <div v-else-if=\"item.type == 'select'\">\n                <span v-on:click=\"touchItem(index)\">{{ stripSlashes(item.text) }}</span>\n                <select v-model=\"form.items[index].value\" v-on:change=\"fieldBlur(form.items[index], index)\" v-on:click=\"fieldBlur(form.items[index], index)\">\n                  <option v-for=\"(option, i) in options\" value=\"option['text']\">{{ option.text }}</option>\n                </select>\n              </div>\n            </div>\n            <div class=\"boffo-item boffo-buttons\" v-bind:class=\"{ active: activeItem >= form.items.length, queued: activeItem + 1 == form.items.length }\">\n              <button class=\"save-button\" v-on:click=\"save()\" v-bind:disabled=\"!isFormValid()\">{{ stripSlashes(form.submit_button_text) }}</button>\n            </div>\n          </div>\n          <div class=\"boffo-done\">\n            <p>{{ stripSlashes(form.confirmation_message) }}</p>\n          </div>\n        </div>\n      `\n    });\n  });\n})(jQuery);\n\n\n\n// WEBPACK FOOTER //\n// ./js/public.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./css/public.css\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}